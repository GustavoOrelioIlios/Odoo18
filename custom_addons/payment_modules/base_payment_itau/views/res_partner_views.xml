<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_partner_form_itau_payment_config" model="ir.ui.view">
        <field name="name">res.partner.form.itau.payment.config</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base_payment_api.view_partner_form_payment_config"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='payment_settings']//group" position="inside">
                <group name="itau_settings" string="Configurações do Boleto (Itaú)" col="4">
                    <group string="Configurações de Juros" colspan="2">
                        <field name="itau_interest_code"/>
                        <field name="itau_interest_percent" 
                               invisible="itau_interest_code in [False, '05', '93']"
                               required="itau_interest_code not in [False, '05', '93']"
                               string="Percentual de Juros"
                               help="Percentual de juros a ser aplicado conforme o tipo selecionado (Mensal, Diário ou Anual)"/>
                        <field name="itau_interest_value" 
                               invisible="itau_interest_code in [False, '05', '90', '91', '92']"
                               required="itau_interest_code == '93'"
                               string="Valor Diário (R$)"
                               help="Valor fixo de juros por dia de atraso"/>
                        <field name="itau_interest_date_start" 
                               invisible="itau_interest_code in [False, '05']"
                               required="itau_interest_code not in [False, '05']"
                               string="Dias para Início"
                               help="Número de dias após o vencimento para iniciar a cobrança de juros"/>
                    </group>
                    <group string="Configurações de Multa" colspan="2">
                        <field name="itau_penalty_code"/>
                        <field name="itau_penalty_percent" 
                               invisible="itau_penalty_code in [False, '03', '01']"
                               required="itau_penalty_code == '02'"
                               string="Percentual da Multa (%)"
                               help="Percentual de multa a ser aplicado sobre o valor do título"/>
                        <field name="itau_penalty_value" 
                               invisible="itau_penalty_code in [False, '03', '02']"
                               required="itau_penalty_code == '01'"
                               string="Valor Fixo (R$)"
                               help="Valor fixo da multa"/>
                        <field name="itau_penalty_date_start" 
                               invisible="itau_penalty_code in [False, '03']"
                               required="itau_penalty_code not in [False, '03']"
                               string="Dias para Início"
                               help="Número de dias após o vencimento para aplicar a multa"/>
                    </group>
                    <div class="alert alert-info" role="alert" colspan="4">
                        <i class="fa fa-info-circle"/> Estas configurações serão utilizadas quando o cliente não tiver configurações específicas.
                    </div>
                </group>
            </xpath>
        </field>
    </record>
</odoo> 